<!--pages/basics/dispatch/home/home.wxml-->
<cu-custom bgColor="bg-blue" isBack="{{true}}"> 
	<view slot="content">维修派单</view>
</cu-custom>
<van-search
	value="{{ searchValue }}"
	placeholder="请输入工单编号或名称进行搜索"
	bind:search="onSearch"
	bind:clear="onSearch"
/>
<view wx:if="{{ workOrderList && workOrderList.length }}">
  <view wx:for="{{ workOrderList }}" wx:key="id">
    <work-order-list-card
      from="dispatch"
      item="{{item}}"
      bind:openresetdialog="openResetDialog"
      bind:gotodetail="goToDetail"
      bind:opendialog="openDialog"
    />
  </view>
</view>
<!-- <view wx:else class="no-data">暂无数据</view> -->
<van-empty wx:else image="search" description="暂无数据" />
<van-toast id="van-toast" />
<!-- show-confirm-button="{{ false }}" -->
<!-- bind:cancel="onCancel"
  bind:confirm="onConfirm" -->
<van-dialog
  use-slot
  title="选择要撤销派单的工序"
  show="{{ show }}"
  show-cancel-button
  before-close="{{ verify }}"
  catchtouchmove="stop"
>
	<view class="process-dialog-content">
		<van-radio-group value="{{ choosedProcess }}" bind:change="onChange">
			<van-radio name="{{ item.id }}" wx:for="{{ processList }}" wx:key="id"  disabled="{{ !item.userId }}" custom-class="custom-class">
				<text>{{ item.workingProcedure.name }}</text>
				<text wx:if="{{ item.userId }}">（{{ item.userName }} 已接单）</text>
				<text wx:else>（未接单）</text>
			</van-radio>
		</van-radio-group>
	</view>
</van-dialog>
<van-dialog id="van-dialog" />